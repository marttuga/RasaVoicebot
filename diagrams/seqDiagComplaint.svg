<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1580px" preserveAspectRatio="none" style="width:2214px;height:1580px;background:#FFFFFF;" version="1.1" viewBox="0 0 2214 1580" width="2214px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1388.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="25" y="92.6094"/><rect fill="#FFFFFF" height="225.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="114.9609"/><rect fill="#FFFFFF" height="225.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="370.7734"/><rect fill="#FFFFFF" height="225.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="626.5859"/><rect fill="#FFFFFF" height="195.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="882.3984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="145.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="279.7188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="401.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="535.5313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="656.9375"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="791.3438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="912.75"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="175.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="431.4766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="687.2891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="943.1016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="249.3672"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="461.8281"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="717.6406"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="973.4531"/><rect fill="#FFFFFF" height="403.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="1077.5078"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1639" y="1107.8594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1850" y="1138.2109"/><rect fill="#FFFFFF" height="221.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1940" y="1229.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="30" x2="30" y1="82.6094" y2="1498.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="445" x2="445" y1="82.6094" y2="1498.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="805.5" x2="805.5" y1="82.6094" y2="1498.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="991" x2="991" y1="82.6094" y2="1498.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1290" x2="1290" y1="82.6094" y2="1498.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1643.5" x2="1643.5" y1="82.6094" y2="1498.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1855" x2="1855" y1="82.6094" y2="1498.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1945" x2="1945" y1="82.6094" y2="1498.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="5" y="79.5332">Cliente</text><ellipse cx="30" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M30,21.5 L30,48.5 M17,29.5 L43,29.5 M30,48.5 L17,63.5 M30,48.5 L43,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="5" y="1512.2598">Cliente</text><ellipse cx="30" cy="1523.8359" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M30,1531.8359 L30,1558.8359 M17,1539.8359 L43,1539.8359 M30,1558.8359 L17,1573.8359 M30,1558.8359 L43,1573.8359 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="388" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="395" y="71.5332">assistente Tugs</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="388" y="1497.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="395" y="1519.2598">assistente Tugs</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="745.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="752.5" y="71.5332">voice recognition</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="745.5" y="1497.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="752.5" y="1519.2598">voice recognition</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40" x="971" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="978" y="71.5332">NLU</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40" x="971" y="1497.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="978" y="1519.2598">NLU</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="1260" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="1267" y="71.5332">Actions</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="1260" y="1497.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="1267" y="1519.2598">Actions</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="1568.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1575.5" y="71.5332">database connectivity</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="1568.5" y="1497.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1575.5" y="1519.2598">database connectivity</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1824" y="79.5332">db_Tugs</text><path d="M1837,29 C1837,19 1855,19 1855,19 C1855,19 1873,19 1873,29 L1873,55 C1873,65 1855,65 1855,65 C1855,65 1837,65 1837,55 L1837,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1837,29 C1837,39 1855,39 1855,39 C1855,39 1873,39 1873,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1824" y="1512.2598">db_Tugs</text><path d="M1837,1525.3359 C1837,1515.3359 1855,1515.3359 1855,1515.3359 C1855,1515.3359 1873,1515.3359 1873,1525.3359 L1873,1551.3359 C1873,1561.3359 1855,1561.3359 1855,1561.3359 C1855,1561.3359 1837,1561.3359 1837,1551.3359 L1837,1525.3359 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1837,1525.3359 C1837,1535.3359 1855,1535.3359 1855,1535.3359 C1855,1535.3359 1873,1535.3359 1873,1525.3359 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1896" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1903" y="71.5332">SMTP Server</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1896" y="1497.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1903" y="1519.2598">SMTP Server</text><rect fill="#FFFFFF" height="1388.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="25" y="92.6094"/><rect fill="#FFFFFF" height="225.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="114.9609"/><rect fill="#FFFFFF" height="225.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="370.7734"/><rect fill="#FFFFFF" height="225.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="626.5859"/><rect fill="#FFFFFF" height="195.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="440" y="882.3984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="145.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="279.7188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="401.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="535.5313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="656.9375"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="791.3438"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="801" y="912.75"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="175.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="431.4766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="687.2891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="943.1016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="249.3672"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="461.8281"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="717.6406"/><rect fill="#FFFFFF" height="73.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="973.4531"/><rect fill="#FFFFFF" height="403.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="1285" y="1077.5078"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1639" y="1107.8594"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1850" y="1138.2109"/><rect fill="#FFFFFF" height="221.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1940" y="1229.2656"/><polygon fill="#181818" points="428,110.9609,438,114.9609,428,118.9609,432,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="35" x2="434" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="386" x="42" y="110.1045">o cliente inicia a chamada e indica que quer fazer uma reclamação</text><polygon fill="#181818" points="789,141.3125,799,145.3125,789,149.3125,793,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="795" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="457" y="140.4561">a fala do cliente é reconhecida</text><polygon fill="#181818" points="974,171.6641,984,175.6641,974,179.6641,978,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="806" x2="980" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="813" y="170.8076">o texto reconhecido da fala</text><line style="stroke:#181818;stroke-width:1.0;" x1="996" x2="1038" y1="206.0156" y2="206.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="1038" x2="1038" y1="206.0156" y2="219.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="997" x2="1038" y1="219.0156" y2="219.0156"/><polygon fill="#181818" points="1007,215.0156,997,219.0156,1007,223.0156,1003,219.0156" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="1003" y="201.1592">Intent complaint é reconhecido</text><polygon fill="#181818" points="1273,245.3672,1283,249.3672,1273,253.3672,1277,249.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="991" x2="1279" y1="249.3672" y2="249.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="998" y="244.5107">response= abrir o formulário form_complain</text><polygon fill="#181818" points="822,275.7188,812,279.7188,822,283.7188,818,279.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="816" x2="1289" y1="279.7188" y2="279.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="828" y="274.8623">formulário form_complain</text><polygon fill="#181818" points="461,306.0703,451,310.0703,461,314.0703,457,310.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="805" y1="310.0703" y2="310.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="467" y="305.2139">formulário form_complain e perguta o nome</text><polygon fill="#181818" points="46,336.4219,36,340.4219,46,344.4219,42,340.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="444" y1="340.4219" y2="340.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="52" y="335.5654">Começa o formulário e pergunta pelo nome</text><polygon fill="#181818" points="428,366.7734,438,370.7734,428,374.7734,432,370.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="35" x2="434" y1="370.7734" y2="370.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="42" y="365.917">O cliente fornece o seu nome</text><polygon fill="#181818" points="789,397.125,799,401.125,789,405.125,793,401.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="795" y1="401.125" y2="401.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="457" y="396.2686">a fala do cliente é reconhecida</text><polygon fill="#181818" points="974,427.4766,984,431.4766,974,435.4766,978,431.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="806" x2="980" y1="431.4766" y2="431.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="813" y="426.6201">o texto reconhecido da fala</text><polygon fill="#181818" points="1273,457.8281,1283,461.8281,1273,465.8281,1277,461.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="991" x2="1279" y1="461.8281" y2="461.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="998" y="456.9717">entidade name = nome do cliente</text><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1337" y1="492.1797" y2="492.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1337" x2="1337" y1="492.1797" y2="505.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1296" x2="1337" y1="505.1797" y2="505.1797"/><polygon fill="#181818" points="1306,501.1797,1296,505.1797,1306,509.1797,1302,505.1797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="1302" y="487.3232">validate_name(name)</text><polygon fill="#181818" points="822,531.5313,812,535.5313,822,539.5313,818,535.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="816" x2="1289" y1="535.5313" y2="535.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="828" y="530.6748">continua o form_complain</text><polygon fill="#181818" points="461,561.8828,451,565.8828,461,569.8828,457,565.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="805" y1="565.8828" y2="565.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="467" y="561.0264">formulário form_complain e perguta o número de telefone</text><polygon fill="#181818" points="46,592.2344,36,596.2344,46,600.2344,42,596.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="444" y1="596.2344" y2="596.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="52" y="591.3779">Pede o número de telefone</text><polygon fill="#181818" points="428,622.5859,438,626.5859,428,630.5859,432,626.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="35" x2="434" y1="626.5859" y2="626.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="42" y="621.7295">O cliente fornece o número de telefone</text><polygon fill="#181818" points="789,652.9375,799,656.9375,789,660.9375,793,656.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="795" y1="656.9375" y2="656.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="457" y="652.0811">a fala do cliente é reconhecida</text><polygon fill="#181818" points="974,683.2891,984,687.2891,974,691.2891,978,687.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="806" x2="980" y1="687.2891" y2="687.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="813" y="682.4326">o texto reconhecido da fala</text><polygon fill="#181818" points="1273,713.6406,1283,717.6406,1273,721.6406,1277,717.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="991" x2="1279" y1="717.6406" y2="717.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="998" y="712.7842">entidade phoneNumber = número de telefone</text><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1337" y1="747.9922" y2="747.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="1337" x2="1337" y1="747.9922" y2="760.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="1296" x2="1337" y1="760.9922" y2="760.9922"/><polygon fill="#181818" points="1306,756.9922,1296,760.9922,1306,764.9922,1302,760.9922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="1302" y="743.1357">validate_phoneNumber(phoneNumber)</text><polygon fill="#181818" points="822,787.3438,812,791.3438,822,795.3438,818,791.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="816" x2="1289" y1="791.3438" y2="791.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="828" y="786.4873">continua o form_complain</text><polygon fill="#181818" points="461,817.6953,451,821.6953,461,825.6953,457,821.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="805" y1="821.6953" y2="821.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="467" y="816.8389">formulário form_complain e perguta a reclamação</text><polygon fill="#181818" points="46,848.0469,36,852.0469,46,856.0469,42,852.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="444" y1="852.0469" y2="852.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="52" y="847.1904">Pergunta qual é o motivo da reclamação</text><polygon fill="#181818" points="428,878.3984,438,882.3984,428,886.3984,432,882.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="35" x2="434" y1="882.3984" y2="882.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="42" y="877.542">O cliente descreve a reclamação</text><polygon fill="#181818" points="789,908.75,799,912.75,789,916.75,793,912.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450" x2="795" y1="912.75" y2="912.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="457" y="907.8936">a fala do cliente é reconhecida</text><polygon fill="#181818" points="974,939.1016,984,943.1016,974,947.1016,978,943.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="806" x2="980" y1="943.1016" y2="943.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="813" y="938.2451">o texto reconhecido da fala</text><polygon fill="#181818" points="1273,969.4531,1283,973.4531,1273,977.4531,1277,973.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="991" x2="1279" y1="973.4531" y2="973.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="998" y="968.5967">entidade complaint = descrição da reclamação</text><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1337" y1="1003.8047" y2="1003.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1337" x2="1337" y1="1003.8047" y2="1016.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1296" x2="1337" y1="1016.8047" y2="1016.8047"/><polygon fill="#181818" points="1306,1012.8047,1296,1016.8047,1306,1020.8047,1302,1016.8047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="1302" y="998.9482">validate_complaint(complaint)</text><polygon fill="#181818" points="461,1043.1563,451,1047.1563,461,1051.1563,457,1047.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="455" x2="1289" y1="1047.1563" y2="1047.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="467" y="1042.2998">acaba o form_complain</text><polygon fill="#181818" points="1273,1073.5078,1283,1077.5078,1273,1081.5078,1277,1077.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="445" x2="1279" y1="1077.5078" y2="1077.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="452" y="1072.6514">action_save_complaints(name, phoneNumber, complaint)</text><polygon fill="#181818" points="1627,1103.8594,1637,1107.8594,1627,1111.8594,1631,1107.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1633" y1="1107.8594" y2="1107.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="1302" y="1103.0029">DataUpdateComplaints(name, phoneNumber, complaint)</text><polygon fill="#181818" points="1838,1134.2109,1848,1138.2109,1838,1142.2109,1842,1138.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1649" x2="1844" y1="1138.2109" y2="1138.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="1656" y="1133.3545">conectar e INSERT na db_Tugs</text><polygon fill="#181818" points="1660,1164.5625,1650,1168.5625,1660,1172.5625,1656,1168.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1654" x2="1854" y1="1168.5625" y2="1168.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1666" y="1163.7061">db_Tugs atualizada</text><polygon fill="#181818" points="1306,1194.9141,1296,1198.9141,1306,1202.9141,1302,1198.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1300" x2="1643" y1="1198.9141" y2="1198.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="1312" y="1194.0576">queixa guardada com sucesso</text><polygon fill="#181818" points="1928,1225.2656,1938,1229.2656,1928,1233.2656,1932,1229.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1934" y1="1229.2656" y2="1229.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="1302" y="1224.4092">enviar_email(toaddr, subject, message)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1950" x2="1992" y1="1259.6172" y2="1259.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1992" x2="1992" y1="1259.6172" y2="1272.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1951" x2="1992" y1="1272.6172" y2="1272.6172"/><polygon fill="#181818" points="1961,1268.6172,1951,1272.6172,1961,1276.6172,1957,1272.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1957" y="1254.7607">Estabelecer conexão com o servidor SMTP</text><polygon fill="#181818" points="1306,1298.9688,1296,1302.9688,1306,1306.9688,1302,1302.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1300" x2="1939" y1="1302.9688" y2="1302.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1312" y="1298.1123">Conexão estabelecida</text><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1337" y1="1333.3203" y2="1333.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1337" x2="1337" y1="1333.3203" y2="1346.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1296" x2="1337" y1="1346.3203" y2="1346.3203"/><polygon fill="#181818" points="1306,1342.3203,1296,1346.3203,1306,1350.3203,1302,1346.3203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="1302" y="1328.4639">criar_mensagem_email(toaddr, subject, message)</text><polygon fill="#181818" points="1928,1372.6719,1938,1376.6719,1928,1380.6719,1932,1376.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1295" x2="1934" y1="1376.6719" y2="1376.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="1302" y="1371.8154">Mensagem preparada para envio</text><line style="stroke:#181818;stroke-width:1.0;" x1="1950" x2="1992" y1="1407.0234" y2="1407.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1992" x2="1992" y1="1407.0234" y2="1420.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1951" x2="1992" y1="1420.0234" y2="1420.0234"/><polygon fill="#181818" points="1961,1416.0234,1951,1420.0234,1961,1424.0234,1957,1420.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1957" y="1402.167">Enviar email</text><polygon fill="#181818" points="1306,1446.375,1296,1450.375,1306,1454.375,1302,1450.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1300" x2="1944" y1="1450.375" y2="1450.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1312" y="1445.5186">Email enviado</text><polygon fill="#181818" points="41,1476.7266,31,1480.7266,41,1484.7266,37,1480.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="35" x2="1289" y1="1480.7266" y2="1480.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356" x="47" y="1475.8701">Informa que a queixa foi submetida e será analisada em breve</text><!--MD5=[660d8051bdc1195f885cfed75bc69117]
@startuml seqDiagComplaint

actor Cliente
participant Bot as "assistente Tugs"
participant speech_recognizer as "voice recognition"
participant NLU as "NLU"
participant Actions as "Actions"
participant connect as "database connectivity"
database Database as "db_Tugs"
participant SMTPServer as "SMTP Server"

activate Cliente

Cliente -> Bot: o cliente inicia a chamada e indica que quer fazer uma reclamação
activate Bot
Bot -> speech_recognizer: a fala do cliente é reconhecida
activate speech_recognizer
speech_recognizer -> NLU: o texto reconhecido da fala
deactivate speech_recognizer
activate NLU
NLU -> NLU: Intent complaint é reconhecido 
NLU -> Actions: response= abrir o formulário form_complain
deactivate NLU
activate Actions
deactivate NLU
Actions - -> speech_recognizer: formulário form_complain
deactivate Actions

activate speech_recognizer
speech_recognizer - -> Bot: formulário form_complain e perguta o nome
deactivate speech_recognizer


Bot - -> Cliente: Começa o formulário e pergunta pelo nome
deactivate Bot

Cliente -> Bot: O cliente fornece o seu nome
activate Bot

Bot -> speech_recognizer: a fala do cliente é reconhecida
activate speech_recognizer
speech_recognizer -> NLU: o texto reconhecido da fala
deactivate speech_recognizer
activate NLU


NLU -> Actions: entidade name = nome do cliente
deactivate NLU
activate Actions

Actions -> Actions: validate_name(name)
Actions - -> speech_recognizer: continua o form_complain
deactivate Actions

activate speech_recognizer
speech_recognizer - -> Bot: formulário form_complain e perguta o número de telefone
deactivate speech_recognizer


Bot - -> Cliente: Pede o número de telefone
deactivate Bot

Cliente -> Bot: O cliente fornece o número de telefone
activate Bot

Bot -> speech_recognizer: a fala do cliente é reconhecida
activate speech_recognizer
speech_recognizer -> NLU: o texto reconhecido da fala
deactivate speech_recognizer
activate NLU

NLU -> Actions: entidade phoneNumber = número de telefone
deactivate NLU

activate Actions
Actions -> Actions: validate_phoneNumber(phoneNumber)
Actions - -> speech_recognizer: continua o form_complain
deactivate Actions

activate speech_recognizer
speech_recognizer - -> Bot: formulário form_complain e perguta a reclamação
deactivate speech_recognizer


Bot - -> Cliente: Pergunta qual é o motivo da reclamação
deactivate Bot

Cliente -> Bot: O cliente descreve a reclamação
activate Bot

Bot -> speech_recognizer: a fala do cliente é reconhecida
activate speech_recognizer
speech_recognizer -> NLU: o texto reconhecido da fala
deactivate speech_recognizer
activate NLU

NLU -> Actions: entidade complaint = descrição da reclamação
deactivate NLU
activate Actions

Actions -> Actions: validate_complaint(complaint)
Actions - -> Bot: acaba o form_complain
deactivate Actions

Bot -> Actions: action_save_complaints(name, phoneNumber, complaint)
deactivate Bot

activate Actions

Actions -> connect: DataUpdateComplaints(name, phoneNumber, complaint)
activate connect

connect -> Database: conectar e INSERT na db_Tugs
activate Database
Database - -> connect: db_Tugs atualizada
deactivate Database
connect - -> Actions: queixa guardada com sucesso
deactivate connect

Actions -> SMTPServer: enviar_email(toaddr, subject, message)
activate SMTPServer

SMTPServer -> SMTPServer: Estabelecer conexão com o servidor SMTP
SMTPServer - -> Actions: Conexão estabelecida
Actions -> Actions: criar_mensagem_email(toaddr, subject, message)
Actions -> SMTPServer: Mensagem preparada para envio
SMTPServer -> SMTPServer: Enviar email
SMTPServer - -> Actions: Email enviado
deactivate SMTPServer

Actions - -> Cliente: Informa que a queixa foi submetida e será analisada em breve
deactivate Actions

deactivate Cliente

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WAT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>